<div class="main_content" style="">
	<table border="0"
		style="width: 100%; padding: 10px; border-collapse: separate; border-spacing: 10px;">
		<tr>
			<td>
				<div title="team">Team</div> <select name="team" id="team"
				style="width: 200px">
					<option value="RESOLVE">RESOLVE</option>
					<option value="Provisioning">Provisioning</option>
					<option value="Service Checker">Service Checker</option>
			</select>
			</td>
			<td>
				<div title="logfiles">Log Files</div> <span id="logfilescontainer">
					<select name="logfiles" id="logfiles" style="width: 200px"
					multiple="multiple">


						<option value="AR">AR</option>
				</select>
			</span>
			</td>

			<td>
			<td>
				<div title="Merge">Merge</div> 
				
				<div id="merge">
    <input type="radio" id="mergeon" name="merge" value="on" ><label for="mergeon">On</label>
    <input type="radio" id="mergeoff" name="merge" value="off" checked="checked"><label for="mergeoff">Off</label>
    
  </div>
  
				
			</td>

			<td>
			<td class="ralign">
			<div title="submitbtn">&nbsp;</div> 
				<button type="button" class="btnstartmonitor">Start</button>
			</td>
		</tr>
	</table>

	<div>

		

		<div id="tabs" class="monitortab">
			<ul>
<!-- 				<li><a href="#tabs-1">Tab name</a> <span -->
<!-- 					class="ui-icon ui-icon-close" role="presentation">Remove Tab</span></li> -->
			</ul>
			<!-- <div id="tabs-1">
				<p>tab contents</p>
			</div> -->
		</div>



		<script>

function updatelogfilesmenu(){
	
	//A method get last parameters 
	
	$("#logfilescontainer").html("");
	
	//get selected team
	if($("#team").val() != ""){
		var formdata="team=" + $("#team").val()
			
			
			$.post( "/services/getlogfilesbyserver", formdata)
		 	  .done(function( data ) {
		 	    
		 		 serverxml=""
		 		
		 		//parse xml
		 		  $xml = $( data )
		 		  $status = $xml.find( "status" )
		 		  
		 		  
		 		  
		 		  if( $status.attr("error") =="true"){
		 			  
		 			//  showerror("resultdetailcontainer",$status.attr("description"))
		 			  
		 		  } else{
		 			  
		 			 $xml.find('user').each(function(index){
		  					dataCount++
		  		            var username = $(this).find('name').text();
		  					
		  					
		  					var name =  $(this).find('name').text();
		  	 				var filename =  $(this).find('filename').text();
		  	 				var $hosts =  $(this).find('hosts');
		  	 				var team =  $(this).find('team').text();
		  	 				var id =  $(this).find('id').text();
		  	 				
		  	 			 $hosts.find('host').each(function(index){
		  	 			 
		  	 				var hostname =  $(this).text();
		  	 				console.log(hostname)
		  	 			 });
		  	 			 
		  					
		 			 });
		 			 
		 		  }
		 		 
		 	  });
	 	}
	}
	

 
  $(function() {
	  
	 
	  
	  
	 
	  
	  generateCsvMenu("team",$("#teams").val())
	  
	     $( "#team" ).selectmenu({
	 // change: function( event, data ) {

	  });
	  
	  
	  //set radio button
	  
	  $( "#merge" ).buttonset();
	  
	  updatelogfilesmenu();
	  

	  //Set Button for monitor
	  
	  //set vertical tabs
	  
	    
	    
	    $( ".btnstartmonitor" ).button( {
	        icons: {
	          primary: "ui-icon-transferthick-e-w"
	        }
	      });
	    
	    
	    var tabs =$( "#tabs" ).tabs()
   	 
		   var   tabTemplate = "<li><span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span> <a href='#{href}'>#{label}</a> </li>",
	      	 tabCounter = 0;
		   tabs.addClass( "ui-tabs-vertical ui-helper-clearfix" );
		    $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );
		    
		   
  
	    $( ".btnstartmonitor" ).click(function( event ) {
	    	 
	    	
	    	
	    	// Get sessionid
	    	//create hidden field with sessionid
	    	//create html with div & sessionid
	    	
	    	 var label = "Tab " + tabCounter,
	         id = "tabs-" + tabCounter,
	         li = $( tabTemplate.replace( /#\{href\}/g, "#" + id ).replace( /#\{label\}/g, label ) ),
	         
	         tabContentHtml = "<div id='' >log here</div>";
	  
	       tabs.find( ".ui-tabs-nav" ).append( li );
	       tabs.append( "<div id='" + id + "'><p>" + tabContentHtml + "</p></div>" );
	       tabs.tabs( "refresh" );
	       //tabs.tabs({ selected: tabCounter });
	      // tabs.tabs("option", "selected", tabCounter );
	       tabs.tabs( "option", "active", tabCounter );
	       tabs.tabs( "refresh" );
	       tabCounter++;
	      
	    	
	    })


	     
	    
	    
	    tabs.delegate( "span.ui-icon-close", "click", function() {
	        var panelId = $( this ).closest( "li" ).remove().attr( "aria-controls" );
	        $( "#" + panelId ).remove();
	        tabs.tabs( "refresh" );
	      });
	   
	      tabs.bind( "keyup", function( event ) {
	        if ( event.altKey && event.keyCode === $.ui.keyCode.BACKSPACE ) {
	          var panelId = tabs.find( ".ui-tabs-active" ).remove().attr( "aria-controls" );
	          $( "#" + panelId ).remove();
	          tabs.tabs( "refresh" );
	        }
	      });
	      
	  

  });
  </script>